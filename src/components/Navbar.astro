---
import { Icon } from "astro-icon";
import brandLogo from "../assets/brandLogo.png";
---

<nav class="z-10 bg-gPrimary text-gBright w-full font-semibold sticky top-0">
  <div class="flex gap-10 container">
    <div
      id="brandLogo"
      class="font-extrabold text-3xl 2xl:text-xl py-6 pl-8 mr-auto flex items-center gap-3 2xl:gap-1 transition-opacity"
    >
      <img
        class="object-contain w-[50px] h-[50px]"
        src={brandLogo.src}
        alt="brand logo"
      />
       GREEN THUMBS
    </div>
    <ul id="navMenu" class="flex gap-20 2xl:gap-10 items-center uppercase">
      <li class="max-w-[100px] text-ellipsis whitespace-nowrap overflow-hidden">
        <a href="/">Home</a>
      </li>
      <li class="max-w-[100px] text-ellipsis whitespace-nowrap overflow-hidden">
        <a href="#about">About</a>
      </li>
      <li class="max-w-[100px] text-ellipsis whitespace-nowrap overflow-hidden">
        <a href="#contact">Contact</a>
      </li>
      <li class="max-w-[100px] text-ellipsis whitespace-nowrap overflow-hidden">
        <a href="">Plant Info</a>
      </li>
      <li class="max-w-[100px] text-ellipsis whitespace-nowrap overflow-hidden">
        <a href="">Gardening</a>
      </li>
    </ul>
    <button class="px-6 bg-gPrimaryLight flex items-center gap-2">
      <Icon class="flex-1 w-6 h-6" name="mdi:magnify" />
       SEARCH
    </button>
  </div>
</nav>

<script>
  const navBrand = document.querySelector<HTMLDivElement>("#brandLogo");
  const target = document.querySelector<HTMLSpanElement>("#heroBrand");

  if (target && navBrand) {
    const observerCallback = (
      entries: IntersectionObserverEntry[],
      observer: IntersectionObserver
    ) => {
      navBrand.style.opacity = `${Math.round(
        1 - entries[0].intersectionRatio
      )}`;
    };
    const observer = new IntersectionObserver(observerCallback, {
      threshold: [0, 1],
    });
    observer.observe(target);
  }
</script>
